@page "/players"
@inject HttpClient httpClient

<TelerikGrid Data="@GridData"
             Pageable="true"
             Sortable="true"
             PageSize="15"
             FilterMode="@GridFilterMode.FilterRow">
    <GridColumns>
        <GridColumn Field="@nameof(Player.username)" Title="Username" />
        <GridColumn Field="email" Title="Email" />
        <GridColumn Field="rank"  Title="Rank"/>
        <GridColumn Field="@nameof(Player.kills)" Title="Total Kills"/>
        <GridColumn Field="@nameof(Player.KD)" Title="K/D ratio" />
        <GridColumn Field="headshots" Title="Headshots" />
        <GridColumn Field="accuracy" Title="Accuracy"/>
    </GridColumns>
</TelerikGrid>

@code {
    private List<Player>? GridData { get; set; } = new List<Player>();

    protected async override Task OnInitializedAsync()
    {
        await GetPlayers();
    }

    async Task GetPlayers()
    {
        GridData = await httpClient.GetFromJsonAsync<List<Player>>($"https://localhost:7065/get-players");
    }
    
}